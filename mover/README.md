# CDR Mover

Этот скрипт предназначен для перемещения файлов CDR (Call Detail Record) из одной директории в другую с возможностью логирования и ротации логов.

## Использование

### Запуск с именованными аргументами:
```bash
cdr_mover.sh --sourcedir <директория> --destdir <директория> [--logdir <директория>] [--pattern <маска>]
```

### Запуск с позиционными аргументами:
```bash
cdr_mover.sh <исходная_директория> <целевой_каталог> [лог_каталог]
```

### Примеры:
Перемещение всех CSV-файлов из `/var/log/cdr` в `/backup/cdr` с логированием в `/var/log/cdr_mover.log`:
```bash
cdr_mover.sh --sourcedir /var/log/cdr --destdir /backup/cdr --logdir /var/log
```

Использование позиционных аргументов:
```bash
cdr_mover.sh /var/log/cdr /backup/cdr /var/log
```

## Описание параметров
- `--sourcedir` – исходная директория (обязательный параметр)
- `--destdir` – целевая директория (обязательный параметр)
- `--logdir` – директория для логов (по умолчанию текущая директория)
- `--pattern` – маска поиска файлов (по умолчанию `*.csv`)

## Функциональность
- Проверяет существование исходной и целевой директории.
- Проверяет права доступа.
- Перемещает файлы, соответствующие заданному шаблону.
- Ведет логирование событий в файл `cdr_mover.log`.
- Поддерживает ротацию логов (до 5 архивных файлов, сжатие `.gz`).
- Поддерживает обработку сигналов прерывания (`SIGINT`, `SIGTERM`, `SIGQUIT`).

